<html>
    <head>
        {% include 'head.html' %}
    </head>
    <body>
        {% include 'navbar.html' %}
        <section>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-2 author-metadata">
                        <p class="author-name-side">Author: {{author[1]}}</p>
                        <div class="links-auth">
                            <p>About</p>
                            <a href="/author/{{ author[0] }}/papers">papers</a>
                            <p>Co-authors</p>
                            <p>Conferences</p>
                        </div>
                    </div>
                    <div class="col-lg-10 author-info">
                        <h2 style="margin-left: 0px; margin-top: 50px">Author Information</h2>

                        <!-- Author Field of Study -->
                        <h4> Field of Study </h4>
                        {% for field in auth_field %} 
                                <p> {{ field[0] }} </p>
                        {% endfor %}

                        <!-- Authors Conferences -->
                        <h4> Conferences </h4>
                        {% for conf in auth_conference %} 
                                <a href="/conference/{{ conf[0] }}"> {{ conf[0] }} </a>   
                        {% endfor %}

                        <!-- Author Papers -->
                        <h4> Papers </h4>
                        {% for paper in auth_papers %} 
                        <div class="card bg-light text-dark" style="margin-top:10px;">
                            <div class="info" style="padding: 20px;">
                                <a href="/paper/{{ paper[0] }}"> {{ paper[0] }} </a>
                            </div>
                        </div>    
                        {% endfor %}





                        <div id="myDiv"></div>
                    </div>
                </div>
            </div>
        </section>



        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        <script>
            function stringArr(string){
                var len = string.length;
                var l = string.substring(1, len-1).split(",").map(Number);
                return l;
            }
        </script>

        <script>
            // console.log("{{ x }}");
            // console.log("{{ y }}")
            var data = [
                {
                    x: stringArr("{{ x }}"),
                    y: stringArr("{{ y }}"),
                    type: 'scatter'
                }
            ];
            var l = stringArr("{{ x }}")
            console.log(l);
            Plotly.newPlot('myDiv', data, {}, {showSendToCloud: true});
        </script>
    </body>
</html>